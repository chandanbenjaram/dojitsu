
<table width="100%" border="0" height="40px">
	<tr bgcolor=#F4F4F4>
		<td width="220px">
			<b  id="total">Total: <%= @challenge.child_challenges.length %></b>
			<% if @challenge.instance_of?Challenge %>
				<%= image_tag("btn_msg_up.png", :style=>"margin-left:10px; position:relative; top:5px;" ,:onclick=>"contactToInvitee()")%>
			<% end %>
		</td>
		<td width = "100px" id="search">
		</td>
		<td width="300px">
			<select>
				<option value="volvo">ALL</option>
				<option value="saab">ACCEPTED</option>
				<option value="mercedes">PENDING</option>
				<option value="audi">DECLINED</option>
			</select> 
			&nbsp;
			<%= image_tag ("search_it.PNG") %>
		</td>
	</tr>
</table>
<style>
	.filterinput
	{
	width :200px;
	height:25px;
	}
</style>
<table  border="0" height="20px" bgcolor="gray"> 
	<tr bgcolor=#D7D7D7>
		<td>
			<b>NAME &nbsp;</b>
		</td>
		<td width="80px">
			<font color=#A8A8A8>STATUS</font>
		</td>
	</tr>
</table>
<div id="wrap">
         <h1 id="header"></h1>
         <table bgcolor="white">
          <tr>
           <td id="list">
            <%if @challenge.parent .nil? %>
             <% childChallenges =  @challenge.child_challenges %>
            <%else%>
             <%childChallenges =  @challenge.parent.child_challenges %>
             <%end%>                      
            <% childChallenges.each do |aChildChallenge| %>
             <p><%=image_tag FbGraph::User.new(aChildChallenge.user_id).fetch.picture %> <a href="#"  id="ahref"><%= FbGraph::User.new(aChildChallenge.user_id).fetch.name %></a>
             <span id="status_icon"> 
             <% if aChildChallenge.social_type.status.nil? or aChildChallenge.social_type.status == 0 %>
              <%= image_tag  "icon_thinking.png"  %>
             <% elsif aChildChallenge.social_type.status == 1 %>
               <%= image_tag  "icon_accept.png"  %>
             <% else %>
                <%= image_tag "icon_decline.png"  %>
             <% end %>
            <% end %>                    
            </span> 
             </p>
            </td>
          </tr> 
         </table>
       </div> 
      </div> 
<script>
$(document).ready(function() 
{ 
    $("#btnFilter").click(function() 
    { 
        var selection = $("#catSelect").val(); 
         if (selection == "all") 
        { 
            $(".item").show(); 
        } 
        else 
        { 
            $(".item").hide(); 
            $("."+selection).show(); 
        } 
    }); 
});
</script>                           
<style type="text/css">
#status_icon
{ 
float: right;
width: 80px;
} 
 #ahref
{     
color:#000000;
}
</style>                
<script src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
<script>
 (function (cash) {
   jQuery.expr[':'].Contains = function(a,i,m){
    return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase())>=0;
   };

   function listFilter(header, list) {
  var form = $("<form>").attr({"class":"filterform","action":"#"}),
   input = $("<input>").attr({"class":"filterinput","type":"text"});
  $("#search").append($(form).append(input).appendTo(header));

  $(input)
    .change( function () {
   var filter = $(this).val();
   if(filter) {
     $(list).find("a:not(:Contains(" + filter + "))").parent().slideUp();
     $(list).find("a:Contains(" + filter + ")").parent().slideDown();
   } else {
     $(list).find("p").slideDown();
   }
   return false;
    })
  .keyup( function () {
   $(this).change();
  });
   }

   $(function () {
  listFilter($("#header"), $("#list"));
   });
 }(jQuery));
</script>