<%= stylesheet_link_tag('datePicker','colorbox')%>
<%= javascript_include_tag('jquery.datePicker', 'date','jquery.colorbox-min')%>

<% t = Time.now.strftime("%Y-%m-%d") %>

<%= form_for( @challenge,:validate => true) do |f| %>
	<p>
		<%= f.label :title %><br />
		<%= f.text_field :title, :class => "textfield_effect" %>
	</p>
	<p>
		<%= f.label :description %><br />
		<%= f.text_area :description %>
	</p>
	<p>
		<%= f.label :discipline %><br />
		<%= f.select :discipline, options_for_select([
    							["Select Categories", "0"],							
								["Categories 1","cat1"],
								["Categories 2","cat2"],	 
								["Categories 3","cat3"],	
								["Categories 4","cat4"],	
								["Categories 5","cat5"] 														
 							]), :style => "width:197px" 
 		%>
	</p>
	<p>
		<%= f.label :dateStart, "Start Date" %><br />		
		<%= f.text_field :dateStart, :class => "textfield_effect  date-pick" %></br>
		<!--
		<%= select_tag "ch_st_date", options_for_select([
    							["Select Start Date", "0"],							
								["Immediately","#imm "],
								["Date","#dat"],	 
								["Number","#num"]														
 							]), :style => "width:197px" 
 		%>
		<div id="dat" style="display:none;">
			<%= f.text_field :dateStart, :class => "textfield_effect  date-pick" %></br>
		</div>
		<div id="imm" style="display:none;">
			<%= f.text_field :dateStart, :value => "#{t}", :class => "textfield_effect" %>
		</div>
		<div id="num" style="display:none;">
			<%= f.text_field :dateStart, :class => "textfield_effect" %>
		</div>
		-->
	</p>
	</br>
	<p>
		<%= f.label :dateEnd, "End Date" %><br />
		<%= f.text_field :dateEnd, :class => "textfield_effect date-pick" %>
	</p>
	</br>
	</br>
	<p>
		<%= f.label :participants %><br />
		<%= f.select :participants, options_for_select([
    							["Select Pparticipants", "0"],							
								["Organizer","org "],
								["Avatars","avt"],	 
								["Judges","jud"],	
								["Audience","aud"],	
								["Teams","tem"] 														
 							]), :style => "width:197px" 
 		%>
	</p>
	<p>
		<input type="button" value="Add Task" class="ad" id="#ch_task_add" style="float:left;">
	</p>
	<p>
		<div id="ch_task_add" style="display:none;">
			<%= f.text_field :tasks, :class => "textfield_effect" %>&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="Remove" class="rem" id="#ch_task_add" style="float:none;"></br>
		</div>
	</p>
	<p>
		<%= f.submit "Create Challenge" %>
	</p>
	
	<!--
	<p>
		<%= f.label :title %><br/>
		<%= text_field_tag 'challenge[title]', @challenge.title, :placeholder => 'enter title...' %>
	</p>

	<p>
		<%= f.label :description %><br/>
		<%= text_area_tag 'challenge[description]', @challenge.description, :placeholder => 'enter description...' %>
	</p>
	
	<%= f.submit %>
	-->
<% end %>

<script type="text/javascript">
	jQuery(document).ready(function($) {
		// Date Picker scripting code
		//alert("Date picker is working");
		$('.date-pick').datePicker({startDate:'01/01/1996'});
		
		
		$('#ch_st_date').change(function() {
  			var sel_val = $(this).val();
			//alert(""+sel_val);
			$('#ch_st_date').hide();
			$(sel_val).show();
		});
		
		//popup for task
		$('.add_task_popup').colorbox();
		
		// script code for add task
		//alert("add task working");
		$(".rem").click(function (str) {
			//alert($(this).attr("id"));
      		$($(this).attr("id")).hide("fast", function () {
        	// use callee so don't have to name the function
        	$(this).prev().hide("fast", arguments); 
      		});
			
    	});
    	$(".ad").click(function () {
      	$("p").add("#ch_task_add");
   		});
			
	});
</script>



